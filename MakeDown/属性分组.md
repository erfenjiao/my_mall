# 属性分组

## 前端组件抽取 && 父子组件交互

### 三级分类后端接口

![1](./图片/属性分组/1.png)

### 属性分组前端

左右布局。左边三级分类，右边查询

![2](./图片/属性分组/2.png)

```
<el-row> 
```



#### 左边三级分类

/views/modules/common/category.vue

el-tree 中，使用catId区分节点，el-tree组件名字叫做menuTree

![4](./图片/属性分组/4.png)



data 数据结构体如下：

![3](./图片/属性分组/3.png)

getMenus()获取三级分类。数据填入menus

![5](./图片/属性分组/5.png)

#### 父子组件

在  attrgroup.vue 中导入组件

![6](./图片/属性分组/6.png)

#### 右边表格

![7](./图片/属性分组/7.png)

###  属性分组功能

#### 1

当我们点击第三级分类，会在右边出现查询到的属性信息

问题：

怎样让树形组件感知到点击事件？怎样查询，并在attrgroup.vue的前端el-table表格中显示出来？

解决：父子组件通信

父组件：attrgroup.vue

![9](./图片/属性分组/9.png)

引用了category.vue

![8](./图片/属性分组/8.png)

官方文档

![10](./图片/属性分组/10.png)

methods中 三个参数

![11](/home/erfenjiao/my_mall/MakeDown/图片/属性分组/11.png)

![12](/home/erfenjiao/my_mall/MakeDown/图片/属性分组/12.png)

#### 2  获取分类属性分组

接口文档：

![13](./图片/属性分组/13.png)

数据库表：

![14](/home/erfenjiao/my_mall/MakeDown/图片/属性分组/14.png)

后端实现：

![15](./图片/属性分组/截图 2023-06-07 16-54-01.png)

![16](/home/erfenjiao/my_mall/MakeDown/图片/属性分组/16.png)

#### 3 新增中的分类选择

级联选择器

![截图 2023-06-07 17-46-59](./图片/属性分组/截图 2023-06-07 17-46-59.png)

前端代码添加级联选择器

![截图 2023-06-07 17-49-07](./图片/属性分组/截图 2023-06-07 17-49-07.png)

注意：

1. :options 中使用 categorys 数组
2. 设定 :options 的value label childern值，否则不能正确显示出数据

